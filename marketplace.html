<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vehicle Marketplace - My Vehicle Report</title>
<meta name="description" content="Browse and buy verified vehicles with complete history reports. Connect with trusted sellers through our secure marketplace.">

<style>
:root {
  --bg-dark: #0e1114;
  --bg-mid: #1a1d21;
  --text-light: #f4f4f4;
  --accent: #f8c24e;
  --accent-blue: #0070f3;
  --border: #3c3f42;
  --success: #10b981;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: var(--bg-dark);
  color: var(--text-light);
  line-height: 1.6;
  min-height: 100vh;
}

/* HEADER */
header {
  background: var(--bg-mid);
  color: white;
  padding: 1.2rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

header h1 {
  color: var(--accent);
  font-size: 1.6rem;
  font-weight: 800;
}

nav a {
  color: #ccc;
  margin-left: 1.5rem;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.3s ease;
}

nav a:hover {
  color: var(--accent);
}

/* PAGE CONTAINER */
.container {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 0 20px;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;
}

.page-header h1 {
  font-size: 2.5rem;
  color: var(--accent);
  margin-bottom: 1rem;
}

.page-header p {
  color: #cfcfcf;
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto;
}

/* MARKETPLACE CONTROLS */
.marketplace-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.search-box {
  flex: 1;
  min-width: 300px;
  position: relative;
}

.search-box input {
  width: 100%;
  padding: 12px 45px 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--bg-mid);
  color: var(--text-light);
  font-size: 1rem;
}

.search-box input:focus {
  outline: none;
  border-color: var(--accent);
}

.filter-controls {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.filter-select {
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--bg-mid);
  color: var(--text-light);
  min-width: 150px;
}

/* VEHICLE GRID */
.vehicle-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.vehicle-card {
  background: var(--bg-mid);
  border-radius: 12px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border: 1px solid var(--border);
}

.vehicle-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}

.vehicle-image {
  width: 100%;
  height: 200px;
  background: linear-gradient(135deg, #2c2e31, #3c3f42);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6b7280;
  font-size: 3rem;
}

.vehicle-details {
  padding: 1.5rem;
}

.vehicle-make-model {
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--text-light);
}

.vehicle-year-price {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.vehicle-year {
  color: #9ca3af;
  font-size: 0.9rem;
}

.vehicle-price {
  color: var(--accent);
  font-size: 1.2rem;
  font-weight: 700;
}

.vehicle-specs {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  font-size: 0.85rem;
  color: #9ca3af;
}

.vehicle-spec {
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.verified-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  background: rgba(16, 185, 129, 0.1);
  color: var(--success);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 500;
}

.view-details-btn {
  width: 100%;
  padding: 12px;
  background: var(--accent-blue);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-top: 1rem;
}

.view-details-btn:hover {
  background: #0056b3;
}

/* LOADING STATE */
.loading-state {
  text-align: center;
  padding: 3rem;
  color: #9ca3af;
}

.loading-spinner {
  border: 3px solid #3c3f42;
  border-top: 3px solid var(--accent);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto 1rem;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* EMPTY STATE */
.empty-state {
  text-align: center;
  padding: 3rem;
  color: #9ca3af;
}

.empty-state-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

/* FOOTER */
.footer {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
  text-align: center;
  color: #a0a0a0;
}

.footer a {
  color: var(--accent);
  text-decoration: none;
  margin: 0 0.5rem;
}

.footer a:hover { text-decoration: underline; }

@media (max-width: 768px) {
  .marketplace-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-box {
    min-width: 100%;
  }
  
  .filter-controls {
    justify-content: space-between;
  }
  
  .filter-select {
    flex: 1;
    min-width: 120px;
  }
  
  header {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }
  
  nav a {
    margin: 0 0.7rem;
  }
}
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>

<header>
  <h1>My Vehicle Report</h1>
  <nav>
    <a href="./index.html">Home</a>
    <a href="./marketplace.html">Marketplace</a>
    <a href="./privacy-policy.html">Privacy</a>
    <a href="./terms.html">Terms</a>
  </nav>
</header>

<div class="container">
  <div class="page-header">
    <h1>Vehicle Marketplace</h1>
    <p>Browse verified vehicles with complete history reports. Connect directly with sellers through our secure platform.</p>
  </div>

  <div class="marketplace-controls">
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="Search by make, model, VIN, or location...">
    </div>
    <div class="filter-controls">
      <select class="filter-select" id="makeFilter">
        <option value="">All Makes</option>
        <option value="Toyota">Toyota</option>
        <option value="Honda">Honda</option>
        <option value="Ford">Ford</option>
        <option value="Chevrolet">Chevrolet</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes-Benz">Mercedes-Benz</option>
      </select>
      <select class="filter-select" id="priceFilter">
        <option value="">Any Price</option>
        <option value="0-5000">Under $5,000</option>
        <option value="5000-10000">$5,000 - $10,000</option>
        <option value="10000-20000">$10,000 - $20,000</option>
        <option value="20000-50000">$20,000 - $50,000</option>
        <option value="50000+">Over $50,000</option>
      </select>
      <select class="filter-select" id="yearFilter">
        <option value="">Any Year</option>
        <option value="2020-2025">2020-2025</option>
        <option value="2015-2019">2015-2019</option>
        <option value="2010-2014">2010-2014</option>
        <option value="2000-2009">2000-2009</option>
        <option value="1990-1999">1990-1999</option>
      </select>
    </div>
  </div>

  <div id="vehicleGrid" class="vehicle-grid">
    <div class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading vehicles...</p>
    </div>
  </div>
</div>

<div class="footer">
  <p>¬© 2025 Trevor Abrahamson. All rights reserved.</p>
  <p><a href="./index.html">‚Üê Back to Home</a> | <a href="./privacy-policy.html">Privacy Policy</a></p>
</div>

<script>
// Firebase configuration
const firebaseConfig = {
  apiKey: "your-api-key",
  authDomain: "your-project-id.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project-id.appspot.com",
  messagingSenderId: "your-sender-id",
  appId: "your-app-id"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Vehicle data with sample listings
const sampleVehicles = [
  {
    id: "1",
    make: "Toyota",
    model: "Camry",
    year: 2020,
    price: 18500,
    mileage: 32500,
    location: "Los Angeles, CA",
    image: "üöó",
    verified: true,
    transmission: "Automatic",
    fuelType: "Gasoline"
  },
  {
    id: "2", 
    make: "Honda",
    model: "Civic",
    year: 2019,
    price: 16500,
    mileage: 28700,
    location: "Miami, FL",
    image: "üöô",
    verified: true,
    transmission: "Automatic",
    fuelType: "Gasoline"
  },
  {
    id: "3",
    make: "Ford",
    model: "F-150",
    year: 2021,
    price: 32500,
    mileage: 18500,
    location: "Dallas, TX",
    image: "üõª",
    verified: true,
    transmission: "Automatic",
    fuelType: "Gasoline"
  },
  {
    id: "4",
    make: "BMW",
    model: "3 Series",
    year: 2022,
    price: 42500,
    mileage: 12500,
    location: "New York, NY",
    image: "üöò",
    verified: false,
    transmission: "Automatic",
    fuelType: "Gasoline"
  },
  {
    id: "5",
    make: "Toyota",
    model: "RAV4",
    year: 2021,
    price: 27500,
    mileage: 22000,
    location: "Seattle, WA",
    image: "üöô",
    verified: true,
    transmission: "Automatic",
    fuelType: "Hybrid"
  },
  {
    id: "6",
    make: "Chevrolet",
    model: "Equinox",
    year: 2020,
    price: 21500,
    mileage: 30500,
    location: "Chicago, IL",
    image: "üöó",
    verified: true,
    transmission: "Automatic",
    fuelType: "Gasoline"
  }
];

// Function to display vehicles
function displayVehicles(vehicles) {
  const grid = document.getElementById('vehicleGrid');
  
  if (vehicles.length === 0) {
    grid.innerHTML = `
      <div class="empty-state">
        <div class="empty-state-icon">üîç</div>
        <h3>No vehicles found</h3>
        <p>Try adjusting your search filters</p>
      </div>
    `;
    return;
  }
  
  grid.innerHTML = vehicles.map(vehicle => `
    <div class="vehicle-card" data-id="${vehicle.id}">
      <div class="vehicle-image">
        ${vehicle.image}
      </div>
      <div class="vehicle-details">
        <div class="vehicle-make-model">${vehicle.make} ${vehicle.model}</div>
        <div class="vehicle-year-price">
          <span class="vehicle-year">${vehicle.year}</span>
          <span class="vehicle-price">$${vehicle.price.toLocaleString()}</span>
        </div>
        <div class="vehicle-specs">
          <span class="vehicle-spec">üìè ${vehicle.mileage.toLocaleString()} mi</span>
          <span class="vehicle-spec">‚öôÔ∏è ${vehicle.transmission}</span>
          <span class="vehicle-spec">‚õΩ ${vehicle.fuelType}</span>
        </div>
        <div class="vehicle-location">üìç ${vehicle.location}</div>
        ${vehicle.verified ? '<div class="verified-badge">‚úì Verified Report</div>' : ''}
        <button class="view-details-btn" onclick="viewVehicleDetails('${vehicle.id}')">
          View Details & Contact
        </button>
      </div>
    </div>
  `).join('');
}

// Filter and search functionality
function filterVehicles() {
  const searchTerm = document.getElementById('searchInput').value.toLowerCase();
  const makeFilter = document.getElementById('makeFilter').value;
  const priceFilter = document.getElementById('priceFilter').value;
  const yearFilter = document.getElementById('yearFilter').value;
  
  const filtered = sampleVehicles.filter(vehicle => {
    const matchesSearch = !searchTerm || 
      vehicle.make.toLowerCase().includes(searchTerm) ||
      vehicle.model.toLowerCase().includes(searchTerm) ||
      vehicle.location.toLowerCase().includes(searchTerm);
    
    const matchesMake = !makeFilter || vehicle.make === makeFilter;
    
    const matchesPrice = !priceFilter || (
      priceFilter === '0-5000' ? vehicle.price < 5000 :
      priceFilter === '5000-10000' ? vehicle.price >= 5000 && vehicle.price <= 10000 :
      priceFilter === '10000-20000' ? vehicle.price >= 10000 && vehicle.price <= 20000 :
      priceFilter === '20000-50000' ? vehicle.price >= 20000 && vehicle.price <= 50000 :
      priceFilter === '50000+' ? vehicle.price > 50000 : true
    );
    
    const matchesYear = !yearFilter || (
      yearFilter === '2020-2025' ? vehicle.year >= 2020 && vehicle.year <= 2025 :
      yearFilter === '2015-2019' ? vehicle.year >= 2015 && vehicle.year <= 2019 :
      yearFilter === '2010-2014' ? vehicle.year >= 2010 && vehicle.year <= 2014 :
      yearFilter === '2000-2009' ? vehicle.year >= 2000 && vehicle.year <= 2009 :
      yearFilter === '1990-1999' ? vehicle.year >= 1990 && vehicle.year <= 1999 : true
    );
    
    return matchesSearch && matchesMake && matchesPrice && matchesYear;
  });
  
  displayVehicles(filtered);
}

// View vehicle details
function viewVehicleDetails(vehicleId) {
  const vehicle = sampleVehicles.find(v => v.id === vehicleId);
  if (vehicle) {
    alert(`Vehicle Details:\n\n${vehicle.make} ${vehicle.model} ${vehicle.year}\nPrice: $${vehicle.price.toLocaleString()}\nMileage: ${vehicle.mileage.toLocaleString()} miles\nLocation: ${vehicle.location}\n\nTo contact the seller or view the full vehicle report, please use the My Vehicle Report mobile app.`);
  }
}

// Load real data from Firebase (commented out for now)
/*
function loadVehiclesFromFirebase() {
  const grid = document.getElementById('vehicleGrid');
  
  db.collection('vehicles')
    .where('status', '==', 'active')
    .limit(20)
    .get()
    .then((querySnapshot) => {
      const vehicles = [];
      querySnapshot.forEach((doc) => {
        vehicles.push({ id: doc.id, ...doc.data() });
      });
      displayVehicles(vehicles);
    })
    .catch((error) => {
      console.error('Error loading vehicles:', error);
      grid.innerHTML = '<div class="empty-state">Error loading vehicles. Please try again later.</div>';
    });
}
*/

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
  // Load sample data (replace with loadVehiclesFromFirebase() when ready)
  setTimeout(() => {
    displayVehicles(sampleVehicles);
  }, 1000);
  
  // Add event listeners for filters
  document.getElementById('searchInput').addEventListener('input', filterVehicles);
  document.getElementById('makeFilter').addEventListener('change', filterVehicles);
  document.getElementById('priceFilter').addEventListener('change', filterVehicles);
  document.getElementById('yearFilter').addEventListener('change', filterVehicles);
});

// Uncomment and configure with your Firebase project details when ready
/*
// Replace with your actual Firebase config
const firebaseConfig = {
  apiKey: "your-actual-api-key",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "your-app-id"
};
*/
</script>
</body>
</html>
